# Nalgebra Matrix Decomposition Benchmarks

This project benchmarks various matrix decomposition algorithms available in the [nalgebra](https://nalgebra.org/) Rust library. It evaluates performance for different matrix sizes and shapes, similar to benchmarks available for Eigen.

## Decomposition Algorithms Benchmarked

- Cholesky Decomposition (`.cholesky()`)
- LU Decomposition with partial pivoting (`.lu()`)
- LU Decomposition with full pivoting (`.full_piv_lu()`)
- QR Decomposition (`.qr()`)
- Hessenberg Decomposition (`.hessenberg()`)
- Schur Decomposition (`.schur()`)
- Hermitian Eigendecomposition (`.symmetric_eigen()`)
- SVD (`.svd()`)

## Matrix Sizes

The benchmark tests each algorithm against:

- Square matrices: 8×8, 100×100, 1000×1000, 4000×4000
- Rectangular matrices: 10000×8, 10000×100, 10000×1000, 10000×4000

## Requirements

- Rust (2021 edition)

## Running the Benchmarks

To run the main program with performance measurements:

```sh
cargo run --release
```

## Expected Output

The benchmarks will output a table showing execution time in milliseconds for each algorithm and matrix size, with relative performance ratios compared to the Cholesky algorithm (which is used as the baseline).

Example:

```
┌────────────────┬─────────────────┬──────────────────┬──────────────────────┬─────────────────────────┬────────────────────────┬───────────────────┬─────────────────────┬───────────────────────┐
│ solver/size    │ 8x8             │ 100x100          │ 1000x1000            │ 4000x4000               │ 10000x8                │ 10000x100         │ 10000x1000          │ 10000x4000            │
├────────────────┼─────────────────┼──────────────────┼──────────────────────┼─────────────────────────┼────────────────────────┼───────────────────┼─────────────────────┼───────────────────────┤
│ Cholesky       │ 0.0001          │ 0.0019           │ 0.6197               │ 11.2669                 │ 63042.00 *             │ 4.571 *           │ 392.436 *           │ 8321.095 *            │
├────────────────┼─────────────────┼──────────────────┼──────────────────────┼─────────────────────────┼────────────────────────┼───────────────────┼─────────────────────┼───────────────────────┤
│ LU             │ 0.0002 (x1.67)  │ 0.0457 (x24.40)  │ 58.0555 (x93.69)     │ 5348.0405 (x474.67)     │ 62750.00 (x1.00)     * │ 5.221 (x1.14) *   │ 431.212 (x1.10) *   │ 10546.903 (x1.27) *   │
├────────────────┼─────────────────┼──────────────────┼──────────────────────┼─────────────────────────┼────────────────────────┼───────────────────┼─────────────────────┼───────────────────────┤
│ FullPivLU      │ 0.0004 (x3.33)  │ 0.3491 (x186.20) │ 370.1162 (x597.28)   │ 25061.9693 (x2224.39)   │ 63541.00 (x1.01)     * │ 5.397 (x1.18) *   │ 739.133 (x1.88) *   │ 31353.697 (x3.77) *   │
├────────────────┼─────────────────┼──────────────────┼──────────────────────┼─────────────────────────┼────────────────────────┼───────────────────┼─────────────────────┼───────────────────────┤
│ QR             │ 0.0005 (x3.66)  │ 0.0801 (x42.71)  │ 91.7879 (x148.12)    │ 6971.3438 (x618.74)     │ 123666.00 (x1.96)    * │ 17.842 (x3.90) *  │ 1705.875 (x4.35) *  │ 25364.958 (x3.05) *   │
├────────────────┼─────────────────┼──────────────────┼──────────────────────┼─────────────────────────┼────────────────────────┼───────────────────┼─────────────────────┼───────────────────────┤
│ Hessenberg     │ 0.0005 (x4.00)  │ 0.2181 (x116.31) │ 227.6545 (x367.38)   │ 16902.0159 (x1500.15)   │ -                      │ -                 │ -                   │ -                     │
├────────────────┼─────────────────┼──────────────────┼──────────────────────┼─────────────────────────┼────────────────────────┼───────────────────┼─────────────────────┼───────────────────────┤
│ Schur          │ 0.0044 (x35.00) │ 1.8064 (x963.40) │ 1624.1579 (x2621.02) │ 167570.4313 (x14872.78) │ -                      │ -                 │ -                   │ -                     │
├────────────────┼─────────────────┼──────────────────┼──────────────────────┼─────────────────────────┼────────────────────────┼───────────────────┼─────────────────────┼───────────────────────┤
│ HermitianEigen │ 0.0025 (x20.34) │ 0.4458 (x237.76) │ 383.1218 (x618.27)   │ 32117.4026 (x2850.59)   │ -                      │ -                 │ -                   │ -                     │
├────────────────┼─────────────────┼──────────────────┼──────────────────────┼─────────────────────────┼────────────────────────┼───────────────────┼─────────────────────┼───────────────────────┤
│ SVD            │ 0.0045 (x36.00) │ 1.0120 (x539.71) │ 940.0547 (x1517.03)  │ 165161.4612 (x14658.98) │ 615958.00 (x9.77)    * │ 80.982 (x17.72) * │ 8562.352 (x21.82) * │ 260708.943 (x31.33) * │
└────────────────┴─────────────────┴──────────────────┴──────────────────────┴─────────────────────────┴────────────────────────┴───────────────────┴─────────────────────┴───────────────────────┘
```

*Note: The "-" symbol indicates cases where the algorithm could not be run for a particular matrix size (typically for large matrices that would take too long to process).*
*Note: The "\*" symbol denotes cases where the algorithm applies to rectangular matrices.*